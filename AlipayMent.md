**讨论支付宝在支付体系内存在的模式**



  支付宝整体的模式是用户在API平台进行访问，产生订单进行包括收银台，交易，收费，营销，风投在内的公共业务。通过收银台进行支付处理，清算处理和财务会计。最后通过通信前置与银行接入，进入银行的支付清算网。
  支付宝的支付清算体系基本是由业务系统向收银台发出请求，收银台再向支付体系发出请求，或是业务系统直接向支付体系发出请求。在支付体系内通过充值协议，提现协议，充退协议，内转协议发出支付指令。支付指令一方面可通过消息系统进行异步清算处理，或是直接进行同步清算处理，另一方面输入到财务系统中。在清算系统中，通过渠道管理，任务调度，文件处理，实时处理来发出清算指令。接下来是与银行往来，进行网银接入，卡通接入，银企直连，或通过其他银行接入方式与银行对接。
  支付宝大体上与第三方支付平台的支付模式相同。它的亮点在于在模块划分上，支付宝架构文档有两个搞支付平台设计的人必须仔细揣摩的要点。 一个是账务处理。在记账方面，涉及到内外两个子系统，外部子系统是单边账，满足线上性能需求；内部子系统走复式记账，满足财务需求。在清结算这个章节中也是基于这个模型来详细介绍如何记账、对账和平账。另一个亮点是柔性事务处理，利用消息机制来实现跨系统的事务处理，避免数据库锁导致的性能问题。



